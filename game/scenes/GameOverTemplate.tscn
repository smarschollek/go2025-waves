[gd_scene load_steps=11 format=3 uid="uid://bmpe6x44bue85"]

[ext_resource type="FontFile" uid="uid://r7lmqbnugoso" path="res://assets/fonts/editundo.ttf" id="1_s4hqu"]
[ext_resource type="Texture2D" uid="uid://drfjr24inpca1" path="res://assets/sprites/Button_Menu.png" id="2_rcc7c"]
[ext_resource type="Texture2D" uid="uid://vw66ab2pjrc6" path="res://assets/sprites/Button_Restart.png" id="2_s4hqu"]

[sub_resource type="GDScript" id="GDScript_tuppb"]
script/source = "extends Control

func _ready() -> void:
    GameManager.gameOver.connect(_on_game_over)

func _on_game_over(lost: bool) -> void:
    setUi(lost)

func setUi(lost: bool) -> void:
    if lost:
        $Panel/GameOverLabel.text = \"You Lost!\"
        $Panel/GameOverLabel.label_settings.font_color = Color.RED
        
    else:
        $Panel/GameOverLabel.text = \"You Won!\"
        $Panel/GameOverLabel.label_settings.font_color = Color.GOLD
        

    $AudioStreamPlayer2D.play()
        

func _on_menu_button_pressed() -> void:
    get_tree().change_scene_to_file(\"res://templates/MenuTemplate.tscn\")
    pass # Replace with function body.

func _on_restart_button_pressed() -> void:
    get_tree().change_scene_to_file(\"res://templates/LevelTemplate.tscn\")
    pass # Replace with function body.
"

[sub_resource type="LabelSettings" id="LabelSettings_nvaki"]
font = ExtResource("1_s4hqu")
font_size = 96

[sub_resource type="AtlasTexture" id="AtlasTexture_0xuhm"]
atlas = ExtResource("2_s4hqu")
region = Rect2(1, 1, 126, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_vend0"]
atlas = ExtResource("2_s4hqu")
region = Rect2(1, 65, 126, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_mt58a"]
atlas = ExtResource("2_s4hqu")
region = Rect2(1, 33, 126, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_rcc7c"]
atlas = ExtResource("2_rcc7c")
region = Rect2(1, 33, 126, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_nvaki"]
atlas = ExtResource("2_rcc7c")
region = Rect2(1, 65, 126, 30)

[node name="GameOverTemplate" type="Control"]
layout_mode = 3
anchors_preset = 0
script = SubResource("GDScript_tuppb")

[node name="Panel" type="Panel" parent="."]
layout_mode = 0
offset_left = -5.8079834
offset_top = -4.8399963
offset_right = 969.28
offset_bottom = 551.104

[node name="GameOverLabel" type="Label" parent="Panel"]
layout_mode = 0
offset_left = 255.55203
offset_top = 122.93602
offset_right = 704.552
offset_bottom = 207.93602
text = "Game over"
label_settings = SubResource("LabelSettings_nvaki")
horizontal_alignment = 1

[node name="RestartButton" type="TextureButton" parent="Panel"]
layout_mode = 0
offset_left = 358.0
offset_top = 320.0
offset_right = 484.0
offset_bottom = 360.0
scale = Vector2(2, 2)
texture_normal = SubResource("AtlasTexture_0xuhm")
texture_pressed = SubResource("AtlasTexture_vend0")
texture_hover = SubResource("AtlasTexture_mt58a")

[node name="MenuButton" type="TextureButton" parent="Panel"]
layout_mode = 0
offset_left = 358.0
offset_top = 388.0
offset_right = 484.0
offset_bottom = 428.0
scale = Vector2(2, 2)
texture_normal = SubResource("AtlasTexture_rcc7c")
texture_pressed = SubResource("AtlasTexture_nvaki")
texture_hover = SubResource("AtlasTexture_rcc7c")

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]

[connection signal="pressed" from="Panel/RestartButton" to="." method="_on_restart_button_pressed"]
[connection signal="pressed" from="Panel/MenuButton" to="." method="_on_menu_button_pressed"]
